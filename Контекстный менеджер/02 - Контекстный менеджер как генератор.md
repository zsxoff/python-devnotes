# Контекстный менеджер как генератор

<font color="#3ABBE6">Синхронный</font> контекстный менеджер создается из функции-генератора, с декоратором `contextmanager` из модуля `contextlib`:

```python
from contextlib import contextmanager

@contextmanager
def read_file(name):
    f = open(name, "r")
    try:
        yield f
    finally:
        f.close()
```

<font color="#FC618D">Асинхронный</font> контекстный менеджер создается из функции-генератора, с декоратором `asynccontextmanager` из модуля `contextlib`:

```python
from contextlib import asynccontextmanager

@asynccontextmanager
async def read_file(name):
    f = aiofiles.open(name, "r")
    try:
        yield f
    finally:
        f.close()
```
